<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<link href="/css/homepagestyles.css" rel="stylesheet" type="text/css">
<body onload="changeOptions()">
<!--Search Section starts here-->
<div class="searchsection p-3 mb-2 text-white" style="margin:auto;">
  <!--<form th:action="@{/search-results}" method="post">-->
  <form th:action="@{/search-results-new}" method="post">
    <div class="row g-0 justify-content-center">
      <div class="col-sm-7 mx-3">
        <label class="d-none" for="searchQuery"></label>
        <input type="text" placeholder="Title" class="form-control" id="searchQuery" name="searchQuery"/>
      </div>
      <div class="col-sm mx-3">
        <label class="d-none" for="productionType"></label>
        <select class="form-select" name="productionType" id="productionType" onchange="changeOptions()">
          <option value="movie">Movie</option>
          <option value="tv">Tv</option>
        </select>
      </div>
      <div class="col-sm mx-3">
        <label class="d-none" for="searchGenre"></label>
        <select class="form-select" name="searchGenre" id="searchGenre">
        </select>
      </div>
      <div class="col-sm mx-3">
        <input type="submit" class="btn btn-dark" value="Search">
      </div>
    </div>
  </form>
</div>
<!--Search Section ends here--><script>
  var movieGenres=[

   {
      "id": 0,
      "name": "Choose Genre"
    },
    {
      "id": 28,
      "name": "Action"
    },
    {
      "id": 12,
      "name": "Adventure"
    },
    {
      "id": 16,
      "name": "Animation"
    },
    {
      "id": 35,
      "name": "Comedy"
    },
    {
      "id": 80,
      "name": "Crime"
    },
    {
      "id": 99,
      "name": "Documentary"
    },
    {
      "id": 18,
      "name": "Drama"
    },
    {
      "id": 10751,
      "name": "Family"
    },
    {
      "id": 14,
      "name": "Fantasy"
    },
    {
      "id": 36,
      "name": "History"
    },
    {
      "id": 27,
      "name": "Horror"
    },
    {
      "id": 10402,
      "name": "Music"
    },
    {
      "id": 9648,
      "name": "Mystery"
    },
    {
      "id": 10749,
      "name": "Romance"
    },
    {
      "id": 878,
      "name": "Science Fiction"
    },
    {
      "id": 10770,
      "name": "TV Movie"
    },
    {
      "id": 53,
      "name": "Thriller"
    },
    {
      "id": 10752,
      "name": "War"
    },
    {
      "id": 37,
      "name": "Western"
    }
  ]


  var tvGenres=[

   {
      "id": 0,
      "name": "Choose Genre"
    },
    {
      "id": 10759,
      "name": "Action & Adventure"
    },
    {
      "id": 16,
      "name": "Animation"
    },
    {
      "id": 35,
      "name": "Comedy"
    },
    {
      "id": 80,
      "name": "Crime"
    },
    {
      "id": 99,
      "name": "Documentary"
    },
    {
      "id": 18,
      "name": "Drama"
    },
    {
      "id": 10751,
      "name": "Family"
    },
    {
      "id": 10762,
      "name": "Kids"
    },
    {
      "id": 9648,
      "name": "Mystery"
    },
    {
      "id": 10763,
      "name": "News"
    },
    {
      "id": 10764,
      "name": "Reality"
    },
    {
      "id": 10765,
      "name": "Sci-Fi & Fantasy"
    },
    {
      "id": 10766,
      "name": "Soap"
    },
    {
      "id": 10767,
      "name": "Talk"
    },
    {
      "id": 10768,
      "name": "War & Politics"
    },
    {
      "id": 37,
      "name": "Western"
    }
  ]

  function changeOptions(){

    if(document.getElementById("productionType").value=="movie")
    {
      var element=document.getElementById("searchGenre");
      var child=element.lastChild;
      while(child){
        element.removeChild(child);
        child=element.lastChild;
      }
      for(i=0;i<movieGenres.length;i++){
        var newOption=document.createElement("option");
        newOption.value=movieGenres[i].id;
        newOption.innerHTML=movieGenres[i].name;
        element.appendChild(newOption);
      }
    }
    else{
      var element=document.getElementById("searchGenre");
      var child=element.lastChild;
      while(child){
        element.removeChild(child);
        child=element.lastChild;
      }
      for(i=0;i<tvGenres.length;i++){
        var newOption=document.createElement("option");
        newOption.value=tvGenres[i].id;
        newOption.innerHTML=tvGenres[i].name;
        element.appendChild(newOption);
      }
    }


  }
</script>
</body>
</html>
